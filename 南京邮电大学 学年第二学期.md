### 南京邮电大学 学年第二学期
### 《面向对象程序设计及C++》（期末）试卷1
**院(系)**：__________ 班级：__________ 学号：__________ 姓名：__________
（★温馨提醒：
① 这是试题纸，教师不批改，请将所有最终答案写在答题纸上
② 请在试题纸和答题纸上均完整填写班级、学号、姓名信息
③ 考试结束时请将答题纸、试题纸及草稿纸一并交来
谢谢合作！祝同学们取得好成绩！）

#### 一、填空题（共10分，每空1分）
1、开发C++程序与开发其他高级语言的程序一样，包括编辑、编译、____①____和____②____四个步骤。
2、C++语言中的标准输出流对象是____③____，在程序中用于代表标准输出设备。
3、对于已存在的定义“int *ptr=new int [10]; ”，应该用____④____语句释放动态内存空间。
4、C++语言提供了处理异常的有效机制，通过____⑤____抛出异常，通过____⑥____检测异常、通过catch捕捉并处理异常。
5、类的成员有3种访问属性，其默认的访问属性为____⑦____；访问属性为____⑧____的成员既可被派生类继承又保持了封装和信息隐藏性。（请填关键字）
6、C++支持两种多态性，其中函数重载和运算符重载用于实现____⑨____，而虚函数用于实现____⑩____。

### 得分  
#### 二、单选题（共20分，每题2分）
1、假设已有定义:const char *name="chen";下面语句中错误的是_______。
A、name[3]='a';		B、name="lin";	C、name=new char[5];	D、cout<<name[3];
2、设有语句void f(int a[10],int &x);
int y[10],*py=y,n=10;
则对函数f的正确调用语句是_______。
A、f(py[10],n);	B、f(py,n);	C、f(*py,n);	D、f(py,10);
3、下列不正确的重载函数是_______。
A、int print(int X); 和 void print(float X);
B、int disp(int X); 和 char disp(int Y) const;
C、void disp(char * str,int Y);和 int disp(char * s,int X);
D、int view(int X, int Y); 和 int view(int X);
4、有关this指针的描述中，错误的是_______。
A、this指针可以在程序中显式使用		B、this指针是在使用对象时由系统自动生成
C、this指针是指向当前对象的指针		D、this指针是指向成员函数的指针
5、关于成员函数特征的下列描述中，_______是错误的。
A、成员函数一定是内联函数		B、成员函数可以重载
C、成员函数可以设置缺省参数值	D、成员函数可以是静态的
6、以下关于构造函数的叙述不正确的是_______。
A、构造函数名必须和类名一致		B、构造函数在定义对象时自动执行
C、构造函数无任何函数返回类型	     D、一个类的构造函数有且仅有一个
7、下列哪一项不能访问基类的保护成员_______。
A、基类的友元函数	B、派生类的对象	C、基类的成员函数	D、公有派生类的成员函数
8、下面有关基类与公有派生类的赋值兼容原则，正确的是_______。
A、公有派生类对象不能赋给基类对象	   B、基类对象能赋给其公有派生类的引用
C、基类对象不能赋给公有派生类的对象	D、公有派生类对象地址不能赋给基类指针变量
9、_______是一个在基类中说明的虚函数，它在该基类中没有定义，但要求任何派生类都必须定义自己的版本。
A、虚析构函数	B、虚构造函数	C、纯虚函数	D、静态成员函数
10、假定要对类AB以友元函数形式重载加号运算符，实现两个AB类对象的加法，并返回相加结果，则该函数的声明语句为：_______。
A、friend AB operator+(AB & a, AB & b);
B、friend operator+(AB a );
C、friend AB operator+(AB & a );
D、friend AB & operator+( );

### 得分
#### 三、读程题（共30分，每空2分）
1、以下程序运行后的输出结果第一行是____(1) ，第二行是____(2) 。

```cpp
#include <iostream>
using namespace std;
int i=0;
void main()
{
    int i=5;
    cout<<i<<endl;
    ::i=i*20;
    cout<<::i<<endl;
}
```
2、以下程序运行后的输出结果第一行是____(3) ，第二行是____(4) ，第三行是____(5) 。

```cpp
#include <iostream>
using namespace std;
class base
{
    int n;
public:
    base(int i) { n=i; }
    int getn( ) { return n; }
    friend int add(base &s1,base &s2);
};
int add(base &s1,base &s2)
{
    int result=s1.n+s2.n;
    int t=s1.n; s1.n=s2.n; s2.n=t;
    return result;
}
void main( )
{
    base A(29),B(11);
    cout<<add(A,B) <<endl;
    cout<<A.getn()<<endl;
    cout<<B.getn()<<endl;
}
```
3、以下程序运行后的输出结果第一行是____(6) ，第二行是____(7) 。
```cpp
#include <iostream>
using namespace std;
template<class T>
T fun(T x[],int n)
{
    int i;
    T value=x[0];
    for (i=1;i<n;i++)
        if (value<x[i])
            value=x[i];
    return value;
}
void main()
{
    int arrayA[]={5,8,2,9,1,7};
    double arrayB[]={3.8,5.8,2.7,9.4,1.6};
    cout<<fun(arrayA,6)<<endl;
    cout<<fun(arrayB,5)<<endl;
}
```
4、以下程序运行后的输出结果第一行是____(8) ，第二行是____(9) 。
```cpp
#include <iostream>
using namespace std;
class base
{
public:
    virtual void fun(void)
    {
        cout<<"base::fun"<<endl;
    }
};
class divide:public base
{
public:
    void fun(void)
    {
        cout<<"divide::fun"<<endl;
    }
};
void main(void)
{
    divide d;
    base &b2=d;
    b2.fun();
    base b1;
    b1.fun();
}
```
5、以下程序运行后有多行输出结果，其中第一行是_____________________________（10） ，第二行是________________________（11） 第三行是____________________________________________（12） ，第四行是____________（13） 。

```cpp
#include<iostream>
using namespace std;
class A
{
    int n;
public:
    A( )
    {
        cout<<"constructing A"<<endl;
    }
    ~A( )
    {
        cout<<"destructing A"<<endl;
    }
};
class B:public A
{
    int n;
    A a;
public:
    B( )
    {
        cout<<"constructing B"<<endl;
    }
    ~B( )
    {
        cout<<"destructing B"<<endl;
    }
};
void main( )
{
    B b;
}
```
6、以下程序运行后的输出结果第一行是________________________________________________(14) ，第二行是____________________________________(15) 。

```cpp
#include<iostream>
using namespace std;
const double PI=3.14159;
class Shape
{
public:
    virtual void display( ) =0;
};
class Rectangle:public Shape
{
public:
    Rectangle(double h,double w):hight(h),width(w)
    {
    }
    void display( )
    {
        cout<<hight*width<<endl;
    }
private:
    double hight,width;
};
class Circle:public Shape
{
public:
    Circle(double r):radius(r)
    {
    }
    void display( )
    {
        cout<<PI*radius*radius<<endl;
    }
private:
    double radius;
};
void main( )
{
    Shape *ptr[2];
    ptr[0]=new Rectangle(15, 2); //创建Rectangle类的对象
    ptr[1]=new Circle(1); //创建Circle类的对象
    ptr[0]->display( ); //调用Rectangle类的display函数
    ptr[1]->display( ); //调用Circle类的display函数
    delete []ptr[0];	
    delete ptr[1];
}
```

### 得分
#### 四、程序填空题（共10分，每空2分）
当前文件夹下存在文本文件f1.txt，现将该文件打开并将该文件内容原样复制到同一文件夹下新的文本文件f2.txt中，请完善程序：
```cpp
#include <iostream>
#include <____①____>
using namespace std;
void main( )
{
    ____②____ ifile("f1.txt");
    if(!ifile)
    {
        cout<<"abc.txt cannot be opened!"<<endl;
        return;
    }
    ____③____ ofile("f2.txt");
    if(!ofile)
    {
        cout<<"xyz.txt cannot be opened!"<<endl;
        return;
    }
    char ch;
    while(____④____)
    {
        ofile.put(ch);
    }
    ifile.close( );
    ofile.close( );
}
```

### 得分
#### 五、编程题1（共15分）
定义学生类Student，该类包括私有数据成员char *name ，int age，分别表示学生的姓名和年龄。在该类中定义有构造函数（动态分配内存，初始化学生的姓名和年龄）、析构函数（释放内存）和输出函数print（显示学生的姓名和年龄）。

再定义一个公有派生类Postgrad（研究生类），其中增加私有数据成员int credit，表示研究生的学分。在这个类中定义公有构造函数（初始化研究生的姓名、年龄、学分）和输出函数print（显示研究生的姓名、年龄、学分）。

主函数的定义如下：
```cpp
void main( )
{
    Postgrad pg("ZhangSan", 24, 120); 
    pg.print( );
}
```
编写完整程序实现上述内容（包括类的定义和类的实现）。
要求程序运行结果显示为：
name:ZhangSan
age:24
credit:120

### 得分
#### 六、编程题2（共15分）
定义复数类Complex，有两个double类型的数据成员real和imag，分别表示实部和虚部，请根据下列main( )函数的代码完成类的定义及相应运算符的重载，写出完整的程序代码，具体要求：
（1）定义构造函数；
（2）后置++运算符以成员函数形式重载；
（3）输出流运算符以友元函数形式重载；
（4）输入流运算符以友元函数形式重载
主函数如下：
```cpp
void main( )
{
    Complex b,c(3.2,7.8);
    cin>>b;
    cout<<b<<endl;
    b=c++;
    cout<<b<<endl;
    cout<<c<<endl;
}
```
运行程序，输入：1 2<回车>后，结果显示如下：
1+2i
3.2+7.8i
4.2+8.8i

这份试卷主要考查了C++语言中面向对象编程的相关知识，包括程序开发步骤、标准输出流对象、动态内存管理、异常处理机制、类的访问属性、多态性、函数重载、运算符重载、this指针、构造函数与析构函数、基类与派生类的关系、虚函数、纯虚函数、友元函数、文件操作、类的定义与实现以及运算符重载等内容，涵盖了基础知识和编程实践，对学生的C++编程能力进行了较为全面的考察。





![image-20250109101841338](D:\SwirebevUser\chennl\AppData\Roaming\Typora\typora-user-images\image-20250109101841338.png)

![image-20250109104257544](D:\SwirebevUser\chennl\AppData\Roaming\Typora\typora-user-images\image-20250109104257544.png)

[【精品】南邮 面向对象程序设计及C++ 期末试卷A - 道客巴巴](https://www.doc88.com/p-7874018410981.html#?share_token=086C0E33-F71B-4EE2-B772-AD6A80EAAFE7&tt_from=weixin&utm_source=weixin&utm_medium=toutiao_ios&utm_campaign=client_share&wxshare_count=1)
